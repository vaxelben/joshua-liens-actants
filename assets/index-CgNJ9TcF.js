import*as p from"https://cdn.jsdelivr.net/npm/d3@7/+esm";import{P as j}from"./vendor-ByTJSjIS.js";(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const T of o.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&s(T)}).observe(document,{childList:!0,subtree:!0});function k(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=k(l);fetch(l.href,o)}})();const q=[{id:"Joshua Goldberg",level:0},{id:"Australi Witness",level:0},{id:"Moon Metropolis",level:0},{id:"Michael Slay",level:0},{id:"Tanya Cohen",level:0},{id:"European88",level:0},{id:"Metropolis Forever",level:0},{id:"Ryoko Tamada",level:0},{id:"Emily Goldstein",level:0},{id:"Elton Simpson",parent:"Australi Witness",level:1},{id:"Nadir Soofi",parent:"Australi Witness",level:1},{id:"Mariam Veiszadeh",parent:"Michael Slay",level:1},{id:"Andrew Anglin",parent:"Michael Slay",level:1},{id:"Milo Yiannopoulos",parent:"Moon Metropolis",level:1},{id:"Reddit",parent:"European88",level:1},{id:"Josh Bornstein",parent:"Joshua Goldberg",level:1},{id:"Lindsay Campbell",parent:"Joshua Goldberg",level:1},{id:"Shaun King",parent:"Moon Metropolis",level:1},{id:"Gamergate",parent:"Moon Metropolis",level:1},{id:"Elise Potaka",parent:"Joshua Goldberg",level:1},{id:"Luke McMahon",parent:"Joshua Goldberg",level:1},{id:"Pamela Geller",parent:"Australi Witness",level:1},{id:"James Taranto (WSJ)",parent:"Tanya Cohen",level:1},{id:"Amnesty International",parent:"Australi Witness",level:1},{id:"Junaid Thorne",parent:"Australi Witness",level:1},{id:"Mike Wendling",parent:"Moon Metropolis",level:1},{id:"Jim Berry",parent:"Australi Witness",level:1},{id:"Weev (Andrew Auernheimer)",parent:"Moon Metropolis",level:1},{id:"Ben Garrison",parent:"Joshua Goldberg",level:1},{id:"Bindi Cole",parent:"Australi Witness",level:1},{id:"Bill Leak",parent:"Australi Witness",level:1},{id:"Caitlin Roper",parent:"Joshua Goldberg",level:1},{id:"Chiara Zaffino",parent:"Moon Metropolis",level:1},{id:"Cyndi Lavrenci",parent:"Metropolis Forever",level:1},{id:"Grant Taylor",parent:"Metropolis Forever",level:1},{id:"Jilian C. York",parent:"Ryoko Tamada",level:1},{id:"Larry Pickering",parent:"Australi Witness",level:1},{id:"Tom Minear",parent:"Metropolis Forever",level:1},{id:"Alice Pooley",parent:"Moon Metropolis",level:1},{id:"Peter Wallace",parent:"Moon Metropolis",level:1},{id:"Rita Katz",parent:"Australi Witness",level:1},{id:"Rita Panahi",parent:"Moon Metropolis",level:1},{id:"Nikki",parent:"Moon Metropolis",level:1},{id:"Elon Musk",parent:"Emily Goldstein",level:1},{id:"AFP Federal Agent as Mohamadmo7",parent:"Australi Witness",level:1},{id:"FBI as Wilayahks",parent:"Australi Witness",level:1}],X=[{source:"Australi Witness",target:"Elton Simpson",type:"Incitation terroriste",direction:"inbound",linkType:"direct",impact:10},{source:"Australi Witness",target:"Nadir Soofi",type:"Incitation terroriste",direction:"inbound",linkType:"direct",impact:10},{source:"Michael Slay",target:"Mariam Veiszadeh",type:"Ciblage & harcèlement",direction:"inbound",linkType:"indirect",impact:9},{source:"Tanya Cohen",target:"Mariam Veiszadeh",type:"Instrumentalisation",direction:"inbound",linkType:"direct",impact:0},{source:"Michael Slay",target:"Andrew Anglin",type:"Infiltration",direction:"inbound",linkType:"direct",impact:7},{source:"Moon Metropolis",target:"Milo Yiannopoulos",type:"Collaboration désinformation",direction:"inbound",linkType:"direct",impact:7},{source:"European88",target:"Reddit",type:"modération",direction:"inbound",linkType:"direct",impact:8},{source:"Joshua Goldberg",target:"Josh Bornstein",type:"Usurpation d'identité",direction:"inbound",linkType:"direct",impact:10},{source:"Joshua Goldberg",target:"Lindsay Campbell",type:"Enquête FBI",direction:"outbound",linkType:"direct",impact:8},{source:"Moon Metropolis",target:"Shaun King",type:"Désinformation médiatique",direction:"inbound",linkType:"indirect",impact:6},{source:"Moon Metropolis",target:"Gamergate",type:"Trolling politique",direction:"inbound",linkType:"indirect",impact:6},{source:"Joshua Goldberg",target:"Elise Potaka",type:"Impersonation",direction:"inbound",linkType:"direct",impact:9},{source:"Joshua Goldberg",target:"Luke McMahon",type:"Ennemi",direction:"outbound",linkType:"direct",impact:9},{source:"Australi Witness",target:"Pamela Geller",type:"Menace de mort",direction:"inbound",linkType:"indirect",impact:7},{source:"Tanya Cohen",target:"James Taranto (WSJ)",type:"Désinformation médiatique",direction:"inbound",linkType:"indirect",impact:5},{source:"Australi Witness",target:"Amnesty International",type:"désinformation",direction:"inbound",linkType:"direct",impact:7},{source:"Australi Witness",target:"Junaid Thorne",type:"Usurpation d'identité",direction:"inbound",linkType:"direct",impact:8},{source:"Moon Metropolis",target:"Mike Wendling",type:"Manipulation",direction:"inbound",linkType:"direct",impact:6},{source:"Australi Witness",target:"Jim Berry",type:"Enquêteur",direction:"outbound",linkType:"direct",impact:8},{source:"Moon Metropolis",target:"Weev (Andrew Auernheimer)",type:"Collaboration désinformation",direction:"inbound",linkType:"direct",impact:6},{source:"Joshua Goldberg",target:"Ben Garrison",type:"impersonation",direction:"inbound",linkType:"direct",impact:6},{source:"Australi Witness",target:"Bindi Cole",type:"Ciblage & harcèlement",direction:"inbound",linkType:"direct",impact:4},{source:"Australi Witness",target:"Bill Leak",type:"Menace de mort",direction:"inbound",linkType:"direct",impact:5},{source:"Joshua Goldberg",target:"Caitlin Roper",type:"Impersonnation",direction:"inbound",linkType:"direct",impact:5},{source:"Moon Metropolis",target:"Chiara Zaffino",type:"manipulation",direction:"inbound",linkType:"direct",impact:6},{source:"Metropolis Forever",target:"Cyndi Lavrenci",type:"manipulation",direction:"inbound",linkType:"direct",impact:7},{source:"Metropolis Forever",target:"Grant Taylor",type:"Journaliste exposant Goldberg",direction:"inbound",linkType:"direct",impact:8},{source:"Ryoko Tamada",target:"Jilian C. York",type:"Manipulation",direction:"inbound",linkType:"direct",impact:7},{source:"Australi Witness",target:"Larry Pickering",type:"Menaces de mort",direction:"inbound",linkType:"direct",impact:5},{source:"Metropolis Forever",target:"Tom Minear",type:"Manipulation",direction:"inbound",linkType:"direct",impact:6},{source:"Moon Metropolis",target:"Alice Pooley",type:"Manipulation",direction:"inbound",linkType:"direct",impact:6},{source:"Moon Metropolis",target:"Peter Wallace",type:"Désinformation médiatique",direction:"inbound",linkType:"direct",impact:8},{source:"Australi Witness",target:"Rita Katz",type:"Désinformation médiatique",direction:"inbound",linkType:"indirect",impact:9},{source:"Moon Metropolis",target:"Rita Panahi",type:"Manipulation",direction:"inbound",linkType:"direct",impact:7},{source:"Moon Metropolis",target:"Nikki",type:"amie",direction:"inbound",linkType:"direct",impact:5},{source:"Emily Goldstein",target:"Elon Musk",type:"Amplification de fake news",direction:"inbound",linkType:"indirect",impact:9},{source:"Australi Witness",target:"AFP Federal Agent as Mohamadmo7",type:"Infiltration",direction:"outbound",linkType:"direct",impact:0},{source:"Australi Witness",target:"FBI as Wilayahks",type:"Infiltration",direction:"outbound",linkType:"direct",impact:0}],c={nodes:q,edges:X};document.addEventListener("DOMContentLoaded",()=>{const b=document.getElementById("graph"),m=b.clientWidth,k=b.clientHeight,s=30,l=p.scaleLinear().domain([0,1,2,3,4,5,6,7,8,9,10]).range(["red","#f1f1f1","#dedede","#c6c6c6","#a7a7a7","#878787","#686868","#474747","#222222","#000000"]),o=p.select("#graph").append("svg").attr("width",m).attr("height",k).style("background","#F2EFDD");o.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","0 -5 10 10").attr("refX",0).attr("refY",0).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#666");const J=o.append("g").attr("class","text-layer").style("z-index","1"),E=o.append("g").attr("class","text-layer").style("z-index","1"),B=o.append("g").attr("class","link-layer").style("z-index","2"),P=o.append("g").attr("class","node-layer").style("z-index","3"),a=p.forceSimulation(c.nodes).force("link",p.forceLink(c.edges).id(e=>e.id).distance(e=>150+(e.impact||0)*10).strength(.7)).force("charge",p.forceManyBody().strength(e=>e.level===0?-1e3:-500)).force("center",p.forceCenter(m/2,k/2)).force("x",p.forceX(m/2).strength(.1)).force("y",p.forceY(k/2).strength(.1)).force("collision",p.forceCollide().radius(s*1.5)),G=B.selectAll("path").data(c.edges).join("path").attr("class","link").attr("stroke",e=>l(e.impact||0)).attr("stroke-width",1).attr("stroke-dasharray",e=>e.linkType==="direct"?null:"5,5").attr("marker-end","url(#arrowhead)").attr("fill","none"),R=E.selectAll("text").data(c.edges).join("text").text(e=>e.type).attr("text-anchor","left").attr("dominant-baseline","middle").style("font-size","10px").style("font-family","Arial, sans-serif").style("pointer-events","none").style("user-select","none").style("fill","#333").call(z,s*2),w=J.selectAll("text").data(c.nodes).join("text").text(e=>e.id).attr("x",e=>e.x).attr("y",e=>e.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",e=>e.level===0?"12px":"10px").style("font-family","Arial, sans-serif").style("pointer-events","none").style("user-select","none").style("fill","#333").call(z,s*2),A=P.selectAll("g").data(c.nodes).join("g").style("pointer-events","all").call(p.drag().on("start",(e,t)=>{e.active||a.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y}).on("drag",(e,t)=>{t.fx=e.x,t.fy=e.y}).on("end",(e,t)=>{e.active||a.alphaTarget(0),t.fx=null,t.fy=null})).on("mouseover",$).on("mouseout",O);A.append("circle").attr("r",e=>e.level===0?s*1.2:s).attr("fill","none").attr("stroke",e=>e.level===0?"#666":"#999").attr("stroke-width",e=>e.level===0?2:1).style("pointer-events","all");function z(e,t){e.each(function(){const n=p.select(this),i=n.text().split(/\s+/).reverse(),r=1.2,f=0,v=0;let u,d=[],h=0,M=n.text(null).append("tspan").attr("x",0).attr("y",f).attr("dy",`${v}em`);for(;u=i.pop();)d.push(u),M.text(d.join(" ")),M.node().getComputedTextLength()>t&&(d.pop(),M.text(d.join(" ")),d=[u],M=n.append("tspan").attr("x",0).attr("y",f).attr("dy",`${++h*r}em`).text(u));const x=n.selectAll("tspan"),W=-((x.size()-1)*r)/2;x.attr("dy",(I,S)=>`${W+S*r}em`)})}function $(e,t){const n=new Set;n.add(t.id),c.edges.forEach(i=>{i.source.id===t.id&&n.add(i.target.id),i.target.id===t.id&&n.add(i.source.id)}),A.transition().duration(300).style("opacity",i=>n.has(i.id)?1:.1),w.transition().duration(300).style("opacity",i=>n.has(i.id)?1:.1),R.transition().duration(300).style("opacity",i=>n.has(i.source.id)&&n.has(i.target.id)?1:.1),G.transition().duration(300).style("opacity",i=>n.has(i.source.id)&&n.has(i.target.id)?1:.1)}function O(){A.transition().duration(300).style("opacity",1),w.transition().duration(300).style("opacity",1),G.transition().duration(300).style("opacity",1)}a.on("tick",()=>{c.nodes.forEach(e=>{const t=e.level===0?s*1.2:s;e.x=Math.max(t,Math.min(m-t,e.x)),e.y=Math.max(t,Math.min(k-t,e.y))}),G.attr("d",e=>{const t=e.target.x-e.source.x,n=e.target.y-e.source.y,i=Math.sqrt(t*t+n*n),r=Math.atan2(n,t),f=e.source.level===0?s*1.2:s,v=e.target.level===0?s*1.2:s,u=-Math.sin(r),d=Math.cos(r),h=15,M=e.source.x+f*Math.cos(r)+u*h,x=e.source.y+f*Math.sin(r)+d*h,C=15,L=e.target.x-(v+C)*Math.cos(r)+u*h,W=e.target.y-(v+C)*Math.sin(r)+d*h,I=.2,S=(M+L)/2,Y=(x+W)/2,F=i*I;return`M${M},${x} Q${S+u*F},${Y+d*F} ${L},${W}`}),R.attr("transform",e=>{const t=e.target.x-e.source.x,n=e.target.y-e.source.y,i=Math.atan2(n,t)*(180/Math.PI),r=(e.source.x+e.target.x)/2,f=(e.source.y+e.target.y)/2,v=-Math.sin(i*Math.PI/180),u=Math.cos(i*Math.PI/180),d=20,h=i>90||i<-90?i+180:i;return`translate(${r+v*d},${f+u*d}) rotate(${h})`}),A.attr("transform",e=>`translate(${e.x},${e.y})`),w.attr("transform",e=>`translate(${e.x},${e.y})`)});const g=new j({title:"Graph Controls"});g.addButton({title:"Download SVG"}).on("click",()=>{const t=new XMLSerializer().serializeToString(o.node()),n=document.createElement("a"),i=new Blob([t],{type:"image/svg+xml;charset=utf-8"});n.href=URL.createObjectURL(i),n.download="visualization.svg",document.body.appendChild(n),n.click(),document.body.removeChild(n)}),g.addButton({title:"Refresh data"}).on("click",()=>{c.nodes.forEach(e=>{a.nodes().forEach(t=>{t.id===e.id&&Object.assign(t,e)})}),a.alpha(.3).restart(),D()});const y={linkDistance:150,linkStrength:.7,charge:-500,collisionRadius:80};g.addBinding(y,"linkDistance",{min:50,max:300,step:1}).on("change",e=>{a.force("link").distance(e.value),a.alpha(.3).restart()}),g.addBinding(y,"linkStrength",{min:0,max:2,step:.1}).on("change",e=>{a.force("link").strength(e.value),a.alpha(.3).restart()}),g.addBinding(y,"charge",{min:-1e3,max:100,step:10}).on("change",e=>{a.force("charge").strength(e.value),a.alpha(.3).restart()}),g.addBinding(y,"collisionRadius",{min:30,max:150,step:1}).on("change",e=>{a.force("collision").radius(e.value),a.alpha(.3).restart()}),g.addButton({title:"Reset Simulation"}).on("click",()=>{Object.assign(y,{linkDistance:150,linkStrength:.7,charge:-500,collisionRadius:80}),a.force("link").distance(y.linkDistance),a.force("link").strength(y.linkStrength),a.force("charge").strength(y.charge),a.force("collision").radius(y.collisionRadius),a.alpha(1).restart(),g.refresh()});function D(){const e=P.selectAll(".node").data(c.nodes,r=>r.id),t=B.selectAll(".link").data(c.edges,r=>r.source.id+"-"+r.target.id),n=J.selectAll(".node-label").data(c.nodes,r=>r.id),i=E.selectAll(".link-label").data(c.edges,r=>r.type);e.attr("fill",r=>r.color||"#69b3a2"),t.attr("stroke","#666").attr("marker-end","url(#arrowhead)"),n.style("font-size","12px").style("fill","#333"),i.style("font-size","12px").style("fill","#333")}window.addEventListener("resize",()=>{const e=b.clientWidth,t=b.clientHeight;o.attr("width",e).attr("height",t),a.force("center",p.forceCenter(e/2,t/2)).alpha(.3).restart()})});
